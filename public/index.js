!function(){"use strict";const e=e=>{let t=new URLSearchParams(window.location.search),n=t.get("sid")?t.get("sid"):"",a=-1==e.indexOf("?")?"?sid="+n:"&sid="+n;return e+a},t=()=>{let e=new URLSearchParams(window.location.search);return e.get("sid")?e.get("sid"):""},n=()=>{let e=new URLSearchParams(window.location.search);return e.get("sid")?e.get("sid"):""},a=e=>{let t=e+"=",n=decodeURIComponent(document.cookie).split(";");for(let e=0;e<n.length;e++){let a=n[e];for(;" "==a.charAt(0);)a=a.substring(1);if(0==a.indexOf(t))return a.substring(t.length,a.length)}return""};a("kenzap_api_key"),a("locale")&&a("locale"),localStorage.hasOwnProperty("header")&&localStorage.hasOwnProperty("header-version")&&localStorage.getItem("header-version"),a("kenzap_token"),t();const o=(e,t)=>{if(document.querySelector(e))for(let n of document.querySelectorAll(e))n.removeEventListener("click",t,!0),n.addEventListener("click",t,!0)};var s=function(e){for(var t=e+"=",n=decodeURIComponent(document.cookie).split(";"),a=0;a<n.length;a++){for(var o=n[a];" "==o.charAt(0);)o=o.substring(1);if(0==o.indexOf(t))return o.substring(t.length,o.length)}return""},r={state:{firstLoad:!0,html:"",data:{},ajaxQueue:0},init:function(){r.getData()},getData:function(){r.state.firstLoad&&(()=>{let e=document.querySelector(".loader");e&&(e.style.display="block")})(),fetch("https://api-v1.kenzap.cloud/",{method:"post",headers:{Accept:"application/json","Content-Type":"text/plain",Authorization:"Bearer "+s("kenzap_api_key"),"Kenzap-Header":localStorage.hasOwnProperty("header"),"Kenzap-Token":s("kenzap_token"),"Kenzap-Sid":n()},body:JSON.stringify({query:{keys:{type:"api-key",keys:["private"]},locale:{type:"locale",id:s("lang")},dashboard:{type:"dashboard"}}})}).then((function(e){return e.json()})).then((function(e){e.success?((e=>{if(e.header&&localStorage.setItem("header",e.header),!document.querySelector("#k-script")){let e=document.createElement("div");e.innerHTML=localStorage.getItem("header"),e=e.firstChild,document.body.prepend(e),Function(document.querySelector("#k-script").innerHTML).call("test")}e.locale&&window.i18n.init(e.locale)})(e),r.loadHomeStructure(),r.renderPage(e),r.initListeners(),r.initFooter(),r.state.firstLoad=!1,console.log(e)):(e=>{if(console.log(e),isNaN(e.code)){let n=e;try{n=JSON.stringify(n)}catch(e){}let o=new URLSearchParams;return o.append("cmd","report"),o.append("sid",t()),o.append("token",a("kenzap_token")),o.append("data",n),fetch("https://api-v1.kenzap.cloud/error/",{method:"post",headers:{Accept:"application/json","Content-type":"application/x-www-form-urlencoded"},body:o}),void alert("Can not connect to Kenzap Cloud")}if(401===e.code){if(-1!=window.location.href.indexOf("localhost"))return void alert(e.reason);location.href="https://auth.kenzap.com/?app=65432108792785&redirect="+window.location.href}else alert(e.reason)})(e)})).catch((function(e){console.error("Error:",e)}))},getExtensions:function(){var e=new URLSearchParams;e.append("cmd","preview_extensions"),e.append("s",""),e.append("token",s("kenzap_token")),fetch("https://siteapi.kenzap.cloud/v1/",{method:"post",headers:{Accept:"application/json","Content-type":"application/x-www-form-urlencoded"},body:e}).then((function(e){return e.json()})).then((function(e){e.success&&console.log(e)})).catch((function(e){console.error("Error:",e)}))},renderPage:function(t){(e=>{let t='<ol class="breadcrumb mt-2 mb-0">';for(let n of e)void 0===n.link?t+=`<li class="breadcrumb-item">${n.text}</li>`:t+=`<li class="breadcrumb-item"><a href="${n.link}">${n.text}</a></li>`;t+="</ol>",document.querySelector(".bc").innerHTML=t})([{link:e("https://dashboard.kenzap.cloud?launcher=translate"),text:__("Dashboard")},{text:__("Translate")}]),r.state.dashboard=t.dashboard,document.querySelector(".table thead").innerHTML="\n        <tr>\n            <th>".concat(__("Extension"),"</th>\n            <th>").concat(__(""),"</th>\n        </tr>");var n="";for(var a in t.dashboard.extensions)n+='\n            <tr">\n                <td class="py-3">\n                    '.concat(t.dashboard.extensions[a].links[0].icon,' <a href="').concat(e("/edit/?ext="+a),'">').concat(a,'</a>\n                </td>\n                <td class="text-end"> \n                    <a href="#" data-id="').concat(a,'" class="remove-product text-dark ">\n                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-pencil-square me-2" viewBox="0 0 16 16">\n                            <path d="M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z"/>\n                            <path fill-rule="evenodd" d="M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5v11z"/>\n                        </svg>\n                    </a>\n                </td>\n            </tr>');document.querySelector(".table tbody").innerHTML=n,(()=>{let e=document.querySelector(".loader");e&&(e.style.display="none")})()},initListeners:function(){o(".rename-layout",r.listeners.renameLayout),o(".duplicate-layout",r.listeners.duplicateLayout),o(".remove-layout",r.listeners.removeLayout),o(".qr-download",r.listeners.qrDownload),((e,t)=>{if(document.querySelector(e))for(let n of document.querySelectorAll(e))n.removeEventListener("change",t,!0),n.addEventListener("change",t,!0)})(".palette input",r.listeners.paletteRefresh),r.state.firstLoad&&(o(".btn-publish",r.listeners.publish),o(".domain-list li a",r.listeners.domainChange),o(".btn-modal",r.listeners.modalSuccessBtn))},listeners:{modalSuccessBtn:function(e){r.listeners.modalSuccessBtnFunc(e)},modalSuccessBtnFunc:null},loadHomeStructure:function(){r.state.firstLoad&&(document.querySelector("#contents").innerHTML=function(e){return'\n        <div class="container p-edit">\n            <div class="d-flex justify-content-between bd-highlight mb-3">\n                <nav class="bc" aria-label="breadcrumb"></nav>\n                <div class="d-none">\n                    <a style="margin-right:16px;" class="preview-link nounderline" target="_blank" href="#">'.concat(e("preview"),'<i class="mdi mdi-monitor"></i></a>\n                    <button class="btn btn-primary btn-publish" type="button">').concat(e("Publish menu"),'</button>\n                </div>\n            </div>\n            <div class="row">\n\n                <div class="col-lg-12 grid-margin stretch-card">\n                    <div class="card border-white shadow-sm">\n                        <div class="card-body">\n                        <h4 class="card-title">').concat(e("Active extensions"),'</h4>\n                        <p class="form-text">\n                            ').concat(e('Choose <a href="#">extension</a></code> from the list to set translations.'),'\n                        </p>\n\n                        <div class="row">\n                            <div class="col-sm-12">\n                                <div class="table-responsive">\n                                    <table\n                                        class="table table-hover table-borderless align-middle table-striped table-p-list" style="min-width: 800px;">\n                                        <thead>\n\n                                        </thead>\n                                        <tbody>\n\n                                        </tbody>\n                                    </table>\n                                </div>\n                            </div>\n                        </div>\n\n                    </div>\n                </div>\n\n            </div>\n        </div>\n\n        <div class="modal" tabindex="-1">\n            <div class="modal-dialog">\n                <div class="modal-content">\n                    <div class="modal-header">\n                        <h5 class="modal-title"></h5>\n                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>\n                    </div>\n                    <div class="modal-body">\n\n                    </div>\n                    <div class="modal-footer">\n                        <button type="button" class="btn btn-primary btn-modal"></button>\n                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal"></button>\n                    </div>\n                </div>\n            </div>\n        </div>\n\n        <div class="position-fixed bottom-0 p-2 m-4 end-0 align-items-center">\n            <div class="toast hide align-items-center text-white bg-dark border-0" role="alert" aria-live="assertive"\n                aria-atomic="true" data-bs-delay="3000">\n                <div class="d-flex">\n                    <div class="toast-body"></div>\n                    <button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast"\n                        aria-label="Close"></button>\n                </div>\n            </div>\n        </div>\n        \n    ')}(__))},initFooter:function(){var e,t;e=__("Copyright Â© "+(new Date).getFullYear()+' <a class="text-muted" href="https://kenzap.com/" target="_blank">Kenzap</a>. All rights reserved.'),t=__("Kenzap Cloud Services - Dashboard"),document.querySelector("footer .row").innerHTML=`\n    <div class="d-sm-flex justify-content-center justify-content-sm-between">\n        <span class="text-muted text-center text-sm-left d-block d-sm-inline-block">${e}</span>\n        <span class="float-none float-sm-right d-block mt-1 mt-sm-0 text-center text-muted">${t}</span>\n    </div>`}};r.init()}();
